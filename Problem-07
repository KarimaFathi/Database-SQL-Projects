SELECT *, (CAST(vehiclesNumber AS float) / CAST(TotalVehicles AS float)) AS Perc From (
SELECT Makes.MakeName, count(*) as VehiclesNumber, (select count(*)  from VehiculeDetails WHERE year between 2000 and 2020) as TotalVehicles
FROM   Makes INNER JOIN
             VehiculeDetails ON Makes.MakeID = VehiculeDetails.makeID
WHERE (year between 2000 and 2020)  group by MakeName ) T order by VehiclesNumber;


